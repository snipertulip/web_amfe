!function(a,b,c){function d(a,b){if("string"==typeof b)a.innerHTML=b;else if(b instanceof HTMLElement)a.innerHTML="",a.appendChild(b);else if(b instanceof Array||b instanceof NodeList){var c=n.createDocumentFragment();Array.prototype.slice.call(b).forEach(function(a){c.appendChild(a)}),a.appendChild(c)}}function e(a){var b,c={x:0,y:0},d=getComputedStyle(a)[s+"Transform"];return"none"!==d&&(b=d.match(/^matrix3d\((?:[-\d.]+,\s*){12}([-\d.]+),\s*([-\d.]+)(?:,\s*[-\d.]+){2}\)/)||d.match(/^matrix\((?:[-\d.]+,\s*){4}([-\d.]+),\s*([-\d.]+)\)$/))&&(c.x=parseFloat(b[1])||0,c.y=parseFloat(b[2])||0),c}function f(e,f){var j=this,o=Date.now()+"-"+ ++u;1!==arguments.length||arguments[0]instanceof HTMLElement||(f=arguments[0],e=null),f=f||{},e||(e=n.createElement("div"));var p=e.firstElementChild||n.createElement("div"),q=p.firstElementChild||n.createElement("div");p.parentNode||e.appendChild(p),q.parentNode||p.appendChild(q),e.setAttribute("data-ctrl-name","scrollview"),e.setAttribute("data-ctrl-id",o),e.setAttribute("data-direction","x"!==f.direction?"vertical":"horizontal"),p.className.indexOf("scroll-wrap")<0&&(p.className=p.className.split(" ").concat("scroll-wrap").join(" ").replace(/^\s+/,"")),q.className.indexOf("scroll-content")<0&&(q.className=q.className.split(" ").concat("scroll-content").join(" ").replace(/^\s+/,"")),f.scrollElement=q,f.scrollWrap=p;var r=new b.scroll(f);this.scrollWrap=p,this.scrollElement=q,this.scroll=r,this.root=this.element=e;for(var s in r)void function(a){"function"==typeof r[a]?j[a]=function(){return r[a].apply(r,arguments)}:Object.defineProperty(j,a,{get:function(){return r[a]},set:function(b){r[a]=b}})}(s);Object.defineProperty(this,"forceRepaint",{value:new g(this)}),Object.defineProperty(this,"fixed",{value:new h(this)}),Object.defineProperty(this,"lazyload",{value:new i(this)}),Object.defineProperty(this,"sticky",{value:new k(this)}),Object.defineProperty(this,"pullRefresh",{value:new l(this)}),function(){if("y"===r.axis){var b=a.dpr?60*a.dpr:60,d="下拉即可刷新...",e="正在刷新...",f=new c.loading;f.arrowDirection="down",f.mode="draw",f.text=d;var g=f.element;j.pullRefresh.element=g,j.pullRefresh.height=b,j.pullRefresh.processingHandler=function(a){"draw"!==f.mode&&(f.mode="draw"),f.text!==d&&(f.text=d),f.per=Math.round(a/b*100)},j.pullRefresh.refreshHandler=function(a){var b=!1;f.text=e,f.mode="spin",j.pullRefresh.handler&&j.pullRefresh.handler(function(){b||(b=!0,a())})}}}(),Object.defineProperty(this,"pullUpdate",{value:new m(this)}),function(){if("y"===r.axis){var b=a.dpr?60*a.dpr:60,d="上拉加载更多...",e="正在加载...",f=new c.loading;f.arrowDirection="up",f.mode="draw",f.text=d;var g=f.element;j.pullUpdate.element=g,j.pullUpdate.height=b,j.pullUpdate.processingHandler=function(a){"draw"!==f.mode&&(f.mode="draw"),f.text!==d&&(f.text=d),f.per=Math.round(a/b*100)},j.pullUpdate.updateHandler=function(a){var b=!1;f.text=e,f.mode="spin",j.pullUpdate.handler&&j.pullUpdate.handler(function(){b||(b=!0,a())})}}}(),Object.defineProperty(this,"content",{get:function(){return Array.prototype.slice.call(element.childNodes)},set:function(a){d(q,a)}})}function g(a){var b=a.scroll,c=n.createElement("div");c.className="force-repaint",c.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 0; font-size: 0; opacity: 1;",a.root.appendChild(c);var d=!1;Object.defineProperty(this,"enable",{get:function(){return d},set:function(a){d=a}},!1),Object.defineProperty(this,"element",{value:c}),b.addScrollingHandler(function(){d&&(c.style.opacity=Math.abs(parseInt(c.style.opacity)-1)+"")})}function h(a){var b,c,e,f,g=this,h=a.scroll,i=(n.createDocumentFragment(),!1);Object.defineProperty(g,"enable",{get:function(){return i},set:function(d){i=d,i?(b&&(b.parentNode||a.root.insertBefore(b,a.scrollWrap),b.style.display="block"),c&&(c.parentNode||a.root.appendChild(c),c.style.display="block"),e&&(e.parentNode||a.root.insertBefore(e,a.scrollWrap),e.style.display="block"),f&&(f.parentNode||a.root.appendChild(f),f.style.display="block")):(topFiexElement&&(b.style.display="none"),c&&(c.style.display="none"),e&&(e.style.display="none"),f&&(f.style.display="none"))}}),"y"===h.axis?(b=n.createElement("div"),b.className="top-fixed",b.style.cssText="left: 0; top: 0; width: 100%;",Object.defineProperty(g,"topElement",{get:function(){return b},set:function(a){d(b,a)}}),Object.defineProperty(g,"topOffset",{set:function(a){b.style.top=a+"px"}}),c=this.bottomFixedElement=n.createElement("div"),c.className="bottom-fxied",c.style.cssText="left: 0; bottom: 0; width: 100%;",Object.defineProperty(g,"bottomElement",{get:function(){return c},set:function(a){d(c,a)}}),Object.defineProperty(g,"bottomOffset",{set:function(a){c.style.top=a+"px"}})):(e=this.leftFixedElement=n.createElement("div"),e.className="left-fixed",e.style.cssText="top: 0; left: 0; height: 100%;",Object.defineProperty(g,"leftElement",{get:function(){return e},set:function(a){d(e,a)}}),Object.defineProperty(g,"leftOffset",{set:function(a){e.style.left=a+"px"}}),f=this.rightFixedElement=n.createElement("div"),f.className="right-fxied",f.style.cssText="top: 0; right: 0; height: 100%;",Object.defineProperty(g,"rightElement",{get:function(){return f},set:function(a){d(f,a)}}),Object.defineProperty(g,"rightOffset",{set:function(a){f.style.right=a+"px"}}))}function i(a){function c(){if(!m){if(m=!0,i>k&&j.length>0){var a=j.shift();k++;var b=new Image;b.onload=b.onreadystatechange=function(){l[a]!==!0&&(l[a].forEach(function(b){b&&b(a)}),l[a]=!0,k--),c()},b.src=a,c()}m=!1}}function d(a,b){return l[a]===!0?b(a):(l[a]?l[a].push(b):(l[a]=[b],j.push(a)),void c())}function e(){if(f){var a=Array.prototype.slice.call(h.element.querySelectorAll('.lazy, *[lazyload="true"]'));a.filter(function(a){return h.isInView(a)}).forEach(function(a){var b,c;"IMG"===a.tagName.toUpperCase()?(b=[a],c=[]):(b=Array.prototype.slice.call(a.querySelectorAll("img[data-src]")),c=Array.prototype.slice.call(a.querySelectorAll("*[data-image]")),a.hasAttribute("data-image")&&c.push(a)),b.forEach(function(a){var b=a.getAttribute("data-src");b&&(a.removeAttribute("data-src"),d(b,function(){a.src=b}))}),c.forEach(function(a){var b=a.getAttribute("data-image");b&&(a.removeAttribute("data-image"),d(b,function(){a.style.backgroundImage="url("+b+")"}))}),n&&n(a),a.className=a.className.split(" ").filter(function(a){return"lazy"!==a}).join(" "),a.removeAttribute("lazyload")})}}var f,g=this,h=a.scroll,i=4,j=[],k=0,l={},m=!1;Object.defineProperty(g,"enable",{get:function(){return f},set:function(a){f=a}});var n;Object.defineProperty(g,"handler",{get:function(){return n},set:function(a){n=a}});var o;Object.defineProperty(g,"realtime",{get:function(){return o},set:function(b){o=!!b,o&&(a.forceRepaint.enable=!0)}}),h.addScrollingHandler(function(){o&&e()}),h.addScrollendHandler(function(){e()}),h.addContentrenfreshHandler(function(){e()}),b.animation.requestFrame(function(){e()}),a.checkLazyload=e}function k(a){function b(){if(e&&(Array.prototype.slice.call(c.element.querySelectorAll('.sticky, *[sticky="true"]')).forEach(function(a){a.className=a.className.split(" ").filter(function(a){return"sticky"!==a}).join(" "),a.setAttribute("sticky","initialized");for(var b=c.offset(a),d=b.top,e=0;e<=f.length;e++)if(!f[e]||d<f[e].top){f.splice(e,0,{top:d,el:a,pined:a.firstElementChild});break}}),f.length)){for(var a="y"===c.axis?c.getScrollTop():c.getScrollLeft(),b=0;b<f.length&&!(a<f[b]["y"===c.axis?"top":"left"]);b++);for(j=b-1,j>-1&&(f[j].pined.parentNode&&f[j].pined.parentNode!==f[j].el||(d.innerHTML="",d.appendChild(f[j].pined))),j++;j<f.length;j++)f[j].pined.parentNode!==f[j].el&&f[j].el.appendChild(f[j].pined)}}var c=a.scroll,d=n.createElement("div");d.className="sticky",d.style.cssText="z-index:9; position: absolute; left: 0; top: 0;"+r+"transform: translateZ(9px);","y"===c.axis?d.style.width="100%":d.style.height="100%",Object.defineProperty(this,"offset",{set:function(a){"y"===c.axis?d.style.top=a+"px":d.style.left=a+"px"}});var e;Object.defineProperty(this,"enable",{get:function(){return e},set:function(a){e=!!a,e?(d.parentNode||c.viewport.appendChild(d),d.style.display="block"):d.style.display="none"}});var f=[];a.forceRepaint.enable=!0,c.addScrollingHandler(b),c.addScrollendHandler(b),a.checkSticky=b}function l(a){function c(a){var c=e(h)[g.axis],d=0-c,f=e(g.element)[g.axis],i=("y"===g.axis?k:j)-f,l=new b.animation(400,b.cubicbezier.ease,0,function(a,b){h.style[s+"Transform"]="translate"+g.axis.toUpperCase()+"("+(c+d*b)+"px) translateZ(9px)",g.element.style[s+"Transform"]="translate"+g.axis.toUpperCase()+"("+(f+i*b)+"px)"});l.onend(a),l.play()}function f(a){var c=e(h)[g.axis],d=-("y"===g.axis?k:j)-c,f=e(g.element)[g.axis],i=-f,l=new b.animation(400,b.cubicbezier.ease,0,function(a,b){h.style[s+"Transform"]="translate"+g.axis.toUpperCase()+"("+(c+d*b)+"px) translateZ(9px)",g.element.style[s+"Transform"]="translate"+g.axis.toUpperCase()+"("+(f+i*b)+"px)"});l.onend(a),l.play()}var g=a.scroll,h=n.createElement("div");h.className="refresh",h.style.cssText="display: none; position: absolute; top: 0; left: 0; width: 0; height: 0; "+r+"transform: translateZ(9px)","y"===g.axis?h.style.width="100%":h.style.height="100%";var i=!1;Object.defineProperty(this,"enable",{get:function(){return i},set:function(a){i=a,i?(h.parentNode||g.viewport.appendChild(h),h.style.display="block"):h.style.display="none"}}),Object.defineProperty(this,"element",{get:function(){return h},set:function(a){d(h,a)}}),Object.defineProperty(this,"offset",{set:function(a){"y"===g.axis?h.style.top=a+"px":h.style.left=a+"px"}});var j=0;Object.defineProperty(this,"width",{set:function(a){j=a,"x"===g.axis&&(h.style.width=j+"px",h.style[s+"Transform"]="translateX("+-j+"px) translateZ(9px)")}});var k=0;Object.defineProperty(this,"height",{set:function(a){k=a,"y"===g.axis&&(h.style.height=k+"px",h.style[s+"Transform"]="translateY("+-k+"px) translateZ(9px)")}});var l;Object.defineProperty(this,"processingHandler",{get:function(){return l},set:function(a){l=a}});var m;Object.defineProperty(this,"refreshHandler",{get:function(){return m},set:function(a){m=a}});var o;g.addScrollingHandler(function(){if(i&&!o){var a="y"===g.axis?g.getScrollTop():g.getScrollLeft();a=Math.min(a,0),h.style[s+"Transform"]="y"===g.axis?"translateY("+-(k+a)+"px) translateZ(9px)":"translateX("+-(j+a)+"px) translateZ(9px)",0>a&&l&&l(-a)}}),g.addEventListener("pulldownend",function(){if(i&&!o){o=!0;var a=g.getBoundaryOffset();a>("y"===g.axis?k:j)?(g.disable(),c(function(){m?m(function(){f(function(){g.refresh(),g.enable(),o=!1})}):f(function(){g.refresh(),g.enable(),o=!1})})):f(function(){o=!1})}},!1)}function m(a){var b=a.scroll,c=n.createElement("div");c.className="update",c.style.cssText="display: none; position: absolute; bottom: 0; right: 0; width: 0; height: 0; "+r+"transform: translateZ(9px)","y"===b.axis?c.style.width="100%":c.style.height="100%";var e=!1;Object.defineProperty(this,"enable",{get:function(){return e},set:function(a){e=a,e?(c.parentNode||b.viewport.appendChild(c),c.style.display="block"):c.style.display="none"}}),Object.defineProperty(this,"element",{get:function(){return c},set:function(a){d(c,a)}}),Object.defineProperty(this,"offset",{set:function(a){"y"===b.axis?c.style.bottom=a+"px":c.style.right=a+"px"}});var f=0;Object.defineProperty(this,"width",{set:function(a){f=a,"x"===b.axis&&(c.style.width=f+"px",c.style[s+"Transform"]="translateX("+f+"px) translateZ(9px)")}});var g=0;Object.defineProperty(this,"height",{set:function(a){g=a,"y"===b.axis&&(c.style.height=g+"px",c.style[s+"Transform"]="translateY("+g+"px) translateZ(9px)")}});var h;Object.defineProperty(this,"processingHandler",{get:function(){return h},set:function(a){h=a}});var i;Object.defineProperty(this,"updateHandler",{get:function(){return i},set:function(a){i=a}});var j;b.addScrollingHandler(function(){if(e){var a="y"===b.axis?b.getScrollTop():b.getScrollLeft(),d="y"===b.axis?b.getMaxScrollTop():b.getMaxScrollLeft();a=Math.max(a,d),c.style[s+"Transform"]="y"===b.axis?"translateY("+(d-a+g)+"px) translateZ(9px)":"translateX("+(d-a+f)+"px) translateZ(9px)",j||(a-d<.7*("y"===b.axis?g:f)?h&&h(a-d):i&&(j=!0,i(function(){c.style[s+"Transform"]="y"===b.axis?"translateY("+g+"px) translateZ(9px)":"translateX("+f+"px) translateZ(9px)",b.refresh(),j=!1})))}})}var n=a.document,o=a.navigator.userAgent,p=!!o.match(/Firefox/i),q=!!o.match(/IEMobile/i),r=p?"-moz-":q?"-ms-":"-webkit-",s=p?"Moz":q?"ms":"webkit",t=q?"MSCSSMatrix":"WebKitCSSMatrix",u=(!!p||t in a&&"m11"in new a[t],0);c.scrollview=f}(window,window.lib,window.ctrl||(window.ctrl={}));